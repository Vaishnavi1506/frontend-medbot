{"ast":null,"code":"import React,{useState}from'react';import'./Chatbot.css';import logo from'../components/logo.png';import{logout}from'../authService';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chatbot=()=>{const[query,setQuery]=useState('');const[conversations,setConversations]=useState([]);const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleQuery=async()=>{if(!query.trim())return;setLoading(true);try{const response=await fetch('https://medbackend-f0apeubhdmfee4fs.canadacentral-01.azurewebsites.net/query',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query})});if(!response.ok)throw new Error('Network response was not ok');const data=await response.json();const{causes,medications,disclaimer}=data.response;const formattedResponse={causes:causes||'Information not available.',medications:medications||'Information not available.',disclaimer:disclaimer||'Please consult with a healthcare provider.'};setConversations([...conversations,{query,response:formattedResponse}]);setQuery('');}catch(error){console.error('Failed to fetch:',error);setConversations([...conversations,{query,response:{causes:'Error processing your request. Please try again.',medications:'',disclaimer:''}}]);}finally{setLoading(false);}};const handleLogout=async()=>{try{await logout();navigate('/login');}catch(error){console.error('Logout failed:',error);}};const handleKeyDown=e=>{if(e.key==='Enter'){e.preventDefault();handleQuery();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chatbot-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Company Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"MEDBOT\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-box\",children:[conversations.map((conv,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"conversation\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"conversation-box me\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Me: \",conv.query]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"conversation-box medbot\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"MedBot:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"response-section\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Causes of the Symptoms:\"})}),/*#__PURE__*/_jsx(\"p\",{children:conv.response.causes}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Medications:\"})}),/*#__PURE__*/_jsx(\"p\",{children:conv.response.medications}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Disclaimer:\"})}),/*#__PURE__*/_jsx(\"p\",{children:conv.response.disclaimer})]})]})]},index)),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading response...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your query\",value:query,onChange:e=>setQuery(e.target.value),onKeyDown:handleKeyDown,className:\"query-input\",disabled:loading}),/*#__PURE__*/_jsx(\"button\",{onClick:handleQuery,className:\"send-button\",disabled:loading,children:loading?'Sending...':'Send'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"footer\",{className:\"chatbot-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"If you have any issues, contact us at \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:apphelp@smarttechks.com\",children:\"apphelp@smarttechks.com\"})]})})]});};export default Chatbot;","map":{"version":3,"names":["React","useState","logo","logout","useNavigate","jsx","_jsx","jsxs","_jsxs","Chatbot","query","setQuery","conversations","setConversations","loading","setLoading","navigate","handleQuery","trim","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","causes","medications","disclaimer","formattedResponse","error","console","handleLogout","handleKeyDown","e","key","preventDefault","className","children","src","alt","map","conv","index","type","placeholder","value","onChange","target","onKeyDown","disabled","onClick","href"],"sources":["C:/Users/vaish/OneDrive/Documents/medbotsample/Frontned/src/components/Chatbot.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Chatbot.css';\r\nimport logo from '../components/logo.png';\r\nimport { logout } from '../authService';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Chatbot = () => {\r\n    const [query, setQuery] = useState('');\r\n    const [conversations, setConversations] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleQuery = async () => {\r\n        if (!query.trim()) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch('https://medbackend-f0apeubhdmfee4fs.canadacentral-01.azurewebsites.net/query', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ query })\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Network response was not ok');\r\n\r\n            const data = await response.json();\r\n            const { causes, medications, disclaimer } = data.response;\r\n\r\n            const formattedResponse = {\r\n                causes: causes || 'Information not available.',\r\n                medications: medications || 'Information not available.',\r\n                disclaimer: disclaimer || 'Please consult with a healthcare provider.'\r\n            };\r\n\r\n            setConversations([...conversations, { query, response: formattedResponse }]);\r\n            setQuery('');\r\n        } catch (error) {\r\n            console.error('Failed to fetch:', error);\r\n            setConversations([...conversations, { query, response: { causes: 'Error processing your request. Please try again.', medications: '', disclaimer: '' } }]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logout();\r\n            navigate('/login');\r\n        } catch (error) {\r\n            console.error('Logout failed:', error);\r\n        }\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            handleQuery();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"chatbot-container\">\r\n            <img src={logo} alt=\"Company Logo\" className=\"logo\" />\r\n            <h1 className=\"header\">MEDBOT</h1>\r\n            <div className=\"chat-box\">\r\n                {conversations.map((conv, index) => (\r\n                    <div key={index} className=\"conversation\">\r\n                        <div className=\"conversation-box me\">\r\n                            <p>Me: {conv.query}</p>\r\n                        </div>\r\n                        <div className=\"conversation-box medbot\">\r\n                            <p>MedBot:</p>\r\n                            <div className=\"response-section\">\r\n                                <p><strong>Causes of the Symptoms:</strong></p>\r\n                                <p>{conv.response.causes}</p>\r\n                                <p><strong>Medications:</strong></p>\r\n                                <p>{conv.response.medications}</p>\r\n                                <p><strong>Disclaimer:</strong></p>\r\n                                <p>{conv.response.disclaimer}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                {loading && <p>Loading response...</p>}\r\n            </div>\r\n            <div className=\"input-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your query\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    onKeyDown={handleKeyDown}\r\n                    className=\"query-input\"\r\n                    disabled={loading}\r\n                />\r\n                <button onClick={handleQuery} className=\"send-button\" disabled={loading}>\r\n                    {loading ? 'Sending...' : 'Send'}\r\n                </button>\r\n            </div>\r\n            <button onClick={handleLogout} className=\"logout-button\">Logout</button>\r\n\r\n            {/* Footer Section */}\r\n            <footer className=\"chatbot-footer\">\r\n                <p>If you have any issues, contact us at <a href=\"mailto:apphelp@smarttechks.com\">apphelp@smarttechks.com</a></p>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}